{% extends "base.html" %} {% block head %}
<title>{{profile.full_name}}</title>
<link rel="stylesheet" href="{{ url_for('static',filename='css/form.css') }}">
<link rel="stylesheet" href="{{ url_for('static',filename='css/my-profile.css') }}"> {% endblock %} {% block content %}
<div class="container">
    <div class="form text-center">
        <span onclick="optionsOpen()" class="fas fa-ellipsis-v" style="float:right"></span>
        <div id="more-options" style="position:absolute;top:-10px;right:60px">
            <ul class="more-options" style="list-style: none;">
            <li>
                <button onclick="editClick()" class="more-option" style="width=100%" value="edit">
                    <i style="" class="fa fa-edit"></i>
                    ערוך פרופיל
                </button>
            </li>
            <li>
                <button class="more-option" style="width=100%" value="edit">
                    <i style="color:hsl(344, 100%, 54%)" class="fas fa-user-slash"></i>
                    מחק פרופיל
                </button>
            </li>
            </ul>
        </div>
        <img src="{{url_for('static',filename=profile.image_location)}}" alt="{{profile.full_name}}" style="float:left;max-width:25%;height:auto">
        <h1 class="display-4 text-center">{{profile.full_name}}</h1>
        <div class="tab">
            <h3 class="cool-text">פרטי התחברות</h3>
            <div class="row">
                <span class="small">שם מלא</span>
                <input type="text" class="form-control crucial-input" placeholder="" name="full_name">
            </div>
            <div class="row">
                <span class="small">אימייל</span>
                <input type="text" class="form-control crucial-input email" placeholder="" name="email">
            </div>
            <h3 class="cool-text">פרטים אישיים</h3>
            <div class="row">
                <div class="col-6">
                    <span class="small">מספר טלפון</span>
                    <input type="tel" class="form-control crucial-input" placeholder="052-222-2222" name="phone_number">
                </div>
                <div class="col-6">
                    <span class="small">תאריך לידה</span>
                    <input type="date" placeholder="תאריך לידה:" class="form-control" min="1980" max="2002" step="1" name="date_of_birth">
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <span class="small">ישוב</span>
                    <input type="text" placeholder="ישוב" class="form-control" name="residence">
                </div>
                <div class="col-md-2">
                    <span class="small">מגדר</span>
                    <select type="text" class="form-control" name="gender">
      <option value="male" selected>זכר</option><option value="female">נקבה</option><option value="undefined">לא מוגדר</option>
      </select>
                </div>
            </div>
        </div>

        <div class="tab">
            <h3 class="cool-text">השכלה ותעסוקה</h3>
            <div class="row">
                <div class="col">
                    <input type="text" class="form-control" placeholder="תעודות מקצועיות" name="education">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <input type="text" class="form-control" placeholder="תואר, תחום, מוסד, שנת לימודים" name="education">
                </div>
                <div class="col">
                    <input type="text" class="form-control" placeholder="תואר, תחום, מוסד, שנת לימודים" name="education">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <input type="text" class="form-control" placeholder="ארגון ותפקיד" name="education">
                </div>
                <div class="col">
                    <input type="text" class="form-control" placeholder="ארגון ותפקיד" name="education">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <input type="text" class="form-control" placeholder="עוד" name="education">
                </div>
            </div>
        </div>

        <div class="tab">
            <h3 class="cool-text">מסגרות נוספות</h3>
            <span class="small">כדאי לציין רמת מעורבות ואם שמרתי על קשר</span>
            <div class="row">
                <div class="col">
                    <label for="">:מסגרות שלקחתי בהן חלק לפני הצבא</label>
                    <input type="text" class="form-control" placeholder="מכינה, שנת שירות, מדרשה ועוד" name="pre_army">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="">שירות צבאי:</label>
                    <input type="text" class="form-control" placeholder="" name="army_service">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="">מסגרות נוספות:</label>
                    <input type="text" class="form-control" placeholder="" name="pre_army">
                </div>
            </div>
        </div>

        <div class="tab">
            <h3 class="cool-text">קצת על עצמי</h3>
            <div class="row">
                <div class="col">
                    <label for="">:תחביבים ותחומי עניין</label>
                    <input type="text" class="form-control" placeholder="כל מה שאתם אוהבים לעשות ויש לכם בו איזשהו ניסיון" name="hobbies">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="">:דברים שנותנים לי השראה</label>
                    <input type="text" class="form-control" placeholder="עובדות לא חשובות בפייסבוק, הרצאות טד של ג'ון לה קרה" name="interes">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="">#מילות_מפתח</label>
                    <input type="text" class="form-control" placeholder="#צופים #כושר #ספרדית" name="hashtags">
                    <span class="small">תגיות אלו יסמנו מתי להקפיץ את הפרופיל שלכם</span>
                </div>
            </div>
        </div>

        <div class="tab">
            <h3 class="cool-text">איך אוכל לעזור?</h3>
            <div class="row">
                <div class="col">
                    <label for="">מוזמנים להתייעץ איתי לגבי...</label>
                    <input type="text" class="form-control" placeholder="" name="ready_to_asist">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="">דרכים נוספות שאפשר להעזר בי:</label>
                    <input type="text" class="form-control" placeholder="" name="ready_to_asist">
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var profile = {{profile.json()|safe}};
    togleEditOff(true)
    options = document.getElementById('more-options');

    function togleEditOff(disableAll){
        var text_inputs = document.querySelectorAll("input[type=text]");
        for (var i = 0; i < text_inputs.length; ++i) {
            if (i > 8) {
                text_inputs[i].placeholder = "";
            }
            text_inputs[i].value = profile[text_inputs[i].name]
            text_inputs[i].disabled = disableAll
        }
        var gender = document.querySelector("select");
        gender.disabled = disableAll;
        gender.value = profile['gender'];
        var date = document.querySelector("input[type=date]");
        date.disabled = disableAll;
        date.value = profile['date_of_birth']
        var date = document.querySelector("input[type=tel]");
        date.disabled = disableAll;
        date.value = profile['phone_number']

    }
    function optionsOpen(){
        options.style.display = 'block';
        console.log('options clicked');
        close = addEventListener(mou)
        document.addEventListener(onclick(optionsClose()))
    }
    function optionsClose(){
        options.style.display = 'none';
    }
    function editClick(){
        optionsClose()
        togleEditOff(false)
    }
    
</script>
{% endblock %}